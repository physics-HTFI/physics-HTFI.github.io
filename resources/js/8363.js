"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[8363,6411,4969],{5897:(t,e,i)=>{i.d(e,{Z:()=>m});var n=i(8081),o=i.n(n),s=i(3645),a=i.n(s),r=i(1667),c=i.n(r),l=new URL(i(2301),i.b),d=a()(o()),u=c()(l);d.push([t.id,".noscroll{overflow:hidden}#simulation{visibility:hidden;position:fixed;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.6);z-index:100;display:flex;justify-content:center;align-items:center}#simulation_foreground{width:calc(100vmin - 20px);height:calc(100vmin - 20px);position:relative;background:#fff;color:gray;white-space:nowrap;font-family:sans-serif;user-select:none}@media screen and (max-width: 650px){#simulation_foreground{width:100vmin;height:100vmin}}#simulation_loading{position:absolute;top:45vmin;display:block;width:100%;text-align:center;font-size:5vmin}#simulation_canvas{width:100%;height:100%;display:block}#simulation_canvas:focus{outline:none}.simulation_label{cursor:pointer;pointer-events:auto}.simulation_label,#simulation_title{font-size:90%}@media screen and (max-width: 650px){.simulation_label,#simulation_title{font-size:80%}}.simulation_label,#simulation_title,#simulation_comment,#simulation_message,#simulation_time{background:#fffd}@media screen and (min-width: 650px){.simulation_checkbox_label:hover,#simulation_close:hover,.simulation_selector_label:hover{opacity:.6}}#simulation_topleft{position:absolute;top:0;left:0;padding:0 0 0 5px;pointer-events:none}#simulation_title{display:inline-block;border-bottom:double 3px;padding:0 10px;color:#20386d}#simulation_comment{margin-top:10px;display:inline-block;padding:0 5px 0 3px;font-size:80%}#simulation_selector{display:flex;flex-direction:column;align-items:baseline}.simulation_selector_label{border-radius:7px;border:solid 1px #d9d9d9;margin:10px 0 0 0;box-shadow:1px 1px 2px 0 #bbb;overflow:hidden}.simulation_selector_button{cursor:inherit;font-size:120%;background:none;border:none;color:inherit;border-right:solid 1px;border-color:inherit;height:30px}@media screen and (max-width: 650px){.simulation_selector_button{height:40px}}.simulation_selector_span{padding:20px 7px 20px 5px}.simulation_selector_button_current{font-weight:bold;color:#fff}.simulation_selector_label_current{color:#20386d;background:#20386d;border-color:#20386d}.simulation_selector_span_current{background:#fff}#simulation_controls{display:flex;flex-direction:column;align-items:end;pointer-events:none;position:absolute;top:60px;right:3px;line-height:40px;text-align:right}#simulation_close{cursor:pointer;position:absolute;top:0;right:0;padding:0;border:0;width:50px;height:50px;background:url("+u+") no-repeat center}.simulation_controls_label{align-self:center;font-weight:bold;text-decoration:underline}.simulation_checkbox_label{border-radius:15px;border:solid 1px;padding:3px 7px 2px 2px}@media screen and (max-width: 650px){.simulation_checkbox_label{padding-top:8px}}.simulation_controls_span{padding-left:5px}#simulation_time{font-size:3vmin;position:absolute;bottom:0;left:0;padding:0 1.5vmin 0 1.5vmin}#simulation_message{font-size:90%;position:absolute;bottom:0;right:0;padding:0 5px 5px 0}",""]);const m=d},3645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",n=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),n&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),n&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,n,o,s){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(n)for(var r=0;r<this.length;r++){var c=this[r][0];null!=c&&(a[c]=!0)}for(var l=0;l<t.length;l++){var d=[].concat(t[l]);n&&a[d[0]]||(void 0!==s&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=s),i&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=i):d[2]=i),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),e.push(d))}},e}},1667:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},8081:t=>{t.exports=function(t){return t[1]}},3379:t=>{var e=[];function i(t){for(var i=-1,n=0;n<e.length;n++)if(e[n].identifier===t){i=n;break}return i}function n(t,n){for(var s={},a=[],r=0;r<t.length;r++){var c=t[r],l=n.base?c[0]+n.base:c[0],d=s[l]||0,u="".concat(l," ").concat(d);s[l]=d+1;var m=i(u),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==m)e[m].references++,e[m].updater(h);else{var p=o(h,n);n.byIndex=r,e.splice(r,0,{identifier:u,updater:p,references:1})}a.push(u)}return a}function o(t,e){var i=e.domAPI(e);i.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,o){var s=n(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<s.length;a++){var r=i(s[a]);e[r].references--}for(var c=n(t,o),l=0;l<s.length;l++){var d=i(s[l]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}s=c}}},569:t=>{var e={};t.exports=function(t,i){var n=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},9216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:(t,e,i)=>{t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},7795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var o=void 0!==i.layer;o&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,o&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var s=i.sourceMap;s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},4589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},2755:(t,e,i)=>{i.d(e,{j:()=>m});i(4012);var n=i(3339),o=i(4391),s=i(4808),a=i(8362),r=i(7659),c=i(3839),l=i(8259),d=(i(1762),i(786)),u=i(8363);const m=new class{constructor(){this.is_3D=!0,this.engine=new n.D(u.D.canvas,!0,{preserveDrawingBuffer:!0,stencil:!0}),this.scene=new o.x(this.engine),this.scene.useRightHandedSystem=!0,this.scene.clearColor=new a.HE(1,1,1,1),this.scene.ambientColor=a.Wo.White(),this.camera=new c.Y("camera",0,0,10,s.P.Zero(),this.scene),this.camera.upVector=new s.P(0,0,1),this.camera.panningInertia=0,this.camera.panningSensibility=0,this.camera.mode=r.V.PERSPECTIVE_CAMERA;const t=new l.O("light",new s.P(0,0,-1),this.scene);t.position=new s.P(0,0,10),t.intensity=0,this.shadow_generator=new d.u(1024,t),this.shadow_generator.useExponentialShadowMap=!0,this.shadow_generator.setDarkness(.9),this.engine.runRenderLoop((()=>{this.scene.render()})),window.addEventListener("resize",(()=>{this.engine.resize()}))}set_2D(t,e){this.camera.target=null!=e?e:s.P.Zero(),this.camera.detachControl(u.D.canvas),this.camera.minZ=.01*t,this.camera.maxZ=100*t,this.camera.radius=t,this.camera.alpha=Math.PI/2,this.camera.beta=Math.PI/2,this.camera.lowerRadiusLimit=this.camera.radius/3,this.camera.upperRadiusLimit=3*this.camera.radius,this.camera.useAutoRotationBehavior=!1,this.is_3D=!1}set_3D(t,e,i,n,o){this.camera.attachControl(u.D.canvas,!0),this.camera.inertia=0,this.camera.angularSensibilityX=300,this.camera.angularSensibilityY=300,this.camera.target=null!=o?o:s.P.Zero(),this.camera.minZ=.01*t,this.camera.maxZ=100*t,this.camera.radius=t,this.camera.alpha=e*Math.PI,this.camera.beta=i*Math.PI,this.camera.lowerRadiusLimit=this.camera.radius/3,this.camera.upperRadiusLimit=3*this.camera.radius,this.autoRotation(null!=n&&n),this.is_3D=!0}autoRotation(t,e){this.camera.useAutoRotationBehavior=!1,t&&(this.camera.useAutoRotationBehavior=!0,this.camera.autoRotationBehavior.idleRotationSpeed=null!=e?e:.2,this.camera.autoRotationBehavior.idleRotationWaitTime=Number.MAX_SAFE_INTEGER)}}},4969:(t,e,i)=>{i.r(e),i.d(e,{Scheduler:()=>n.b});var n=i(7341)},7341:(t,e,i)=>{i.d(e,{b:()=>d,c:()=>l});var n=i(2755);const o=()=>Date.now()/1e3;class s{constructor(t,e){this.t=0,this.then=o(),this.is_incremental=t,this.start_wait=e}update(){const t=this.then;this.then=o();const e=this.then-t;if(0<this.start_wait)return this.start_wait-=e,0;const i=this.is_incremental?Math.min(e,1/30):e;return this.t+=i,i}}var a=i(6411);const r={dt:.001,start_wait:0,time_multiplier:1,restart_time:void 0,shows_time:!0};function c(){for(;0!=n.j.scene.meshes.length;)n.j.scene.meshes[0].dispose();for(;0!=n.j.scene.materials.length;)n.j.scene.materials[0].dispose();l.map((t=>t()))}let l=[];class d{static Start(t,e,i=0){e&&n.j.scene.registerBeforeRender(this.Proceed),this.spec=t,void 0!==this.spec.init&&this.spec.init(),this.current=-1,this.Switch(i),this.stop=!1}static Switch(t){if(this.current!=t){this.current=t,c();const e=this.spec.cases[this.current];e.setup(),this.models=e.init.map(((t,e)=>this.spec.generator(t,e))),a.SimulationWindow.SetControls(this.spec,this.current,(t=>this.Switch(t)))}else this.models.map((t=>{t.reset&&t.reset()}));this.config=Object.assign(Object.assign(Object.assign({},r),this.spec.config),this.spec.cases[this.current].config),this.dt=void 0===this.models[0].proceed?void 0:this.config.dt*this.config.time_multiplier,this.timer=new s(void 0!==this.dt,this.config.start_wait),this.Draw(0)}static Stop(){n.j.scene.unregisterBeforeRender(this.Proceed),c(),this.stop=!0}static Restart(){this.Switch(this.current)}static Proceed(){if(d.stop)return;if(d.config.restart_time&&d.config.restart_time<d.timer.t)return void d.Restart();const t=d.timer.t*d.config.time_multiplier,e=d.timer.update()*d.config.time_multiplier;d.Proceed_by(t,e)}static Draw(t){this.models.forEach((e=>e.draw(t)))}static Proceed_by(t,e){if(void 0!==this.dt){const i=Math.ceil(e/this.dt),n=e/i;for(let e=0;e<i;e++)this.models.forEach((e=>e.proceed(t,n))),t+=n}if(this.Draw(t),this.config.shows_time){let e;if(this.config.time_multiplier&&this.config.time_multiplier<1e-8){const i=t.toFixed(12),n=i.length;e=`t = ${i.substring(0,n-9)} ${i.substring(n-9,n-6)} ${i.substring(n-6,n-3)} ${i.substring(n-3,n)} sec`}else e=`t = ${t.toFixed(2)} sec`;a.SimulationWindow.SetTime(e)}}}d.stop=!0},6411:(t,e,i)=>{i.r(e),i.d(e,{SimulationWindow:()=>n.D});var n=i(8363)},8363:(t,e,i)=>{i.d(e,{D:()=>w});var n=i(3379),o=i.n(n),s=i(7795),a=i.n(s),r=i(569),c=i.n(r),l=i(3565),d=i.n(l),u=i(9216),m=i.n(u),h=i(4589),p=i.n(h),v=i(5897),f={};f.styleTagTransform=p(),f.setAttributes=d(),f.insert=c().bind(null,"head"),f.domAPI=a(),f.insertStyleElement=m();o()(v.Z,f);v.Z&&v.Z.locals&&v.Z.locals;var g,_=function(t,e,i,n){return new(i||(i=Promise))((function(o,s){function a(t){try{c(n.next(t))}catch(t){s(t)}}function r(t){try{c(n.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,r)}c((n=n.apply(t,e||[])).next())}))};const b=t=>{const e=document.createElement("label");return e.classList.add("simulation_label"),void 0!==t&&e.classList.add(t),e},y=(t,e,i)=>{const n=document.createElement("span");return n.className=e,void 0!==i&&(n.style.color=i),n.textContent=t,n},x=t=>{const e=document.createElement("input");return e.type=t,e.name=t,e};class w{static Show(t){this.on_closed=t,document.querySelector("#simulation").style.visibility="visible",document.querySelector("#simulation_loading").style.visibility="visible",document.body.classList.add("noscroll")}static Loaded(){document.querySelector("#simulation_loading").style.visibility="hidden"}static SetControls(t,e,i){var n;w.selector.innerHTML="",w.title.innerText=t.title,w.title.style.visibility="inherit";for(let n=0;n<t.cases.length;n++){const o=b("simulation_selector_label");{const s=x("button");s.value=(n+1).toString(),s.className="simulation_selector_button",s.addEventListener("click",(()=>i(n)));const a=y(t.cases[n].title,"simulation_selector_span");n==e&&(s.classList.add("simulation_selector_button_current"),o.classList.add("simulation_selector_label_current"),a.classList.add("simulation_selector_span_current")),o.appendChild(s),o.appendChild(a)}w.selector.appendChild(o)}w.controls.innerHTML="",null===(n=t.controls)||void 0===n||n.forEach((t=>{const e=document.createElement("span");(Array.isArray(t)?t:[t]).forEach((t=>{var i;switch(t.type){case"label":const n=y(t.text,"simulation_controls_span");e.className="simulation_controls_label",n.className="",e.appendChild(n);break;case"check":{const i=b("simulation_checkbox_label");void 0!==t.color&&(i.style.borderColor=t.color);const n=x("checkbox");n.addEventListener("change",(()=>t.change(n.checked))),n.checked=t.checked(),i.appendChild(y(t.text,"simulation_controls_span",t.color)),i.appendChild(n),e.appendChild(i);break}case"radio":{const i=b(),n=x("radio");n.checked=t.checked(),n.addEventListener("change",(()=>{n.checked&&t.changedToChecked()})),n.name=t.name,i.appendChild(y(t.text,"simulation_controls_span",t.color)),i.appendChild(n),e.appendChild(i);break}case"slider":{const n=Math.random().toFixed(5),o=b();{const e=x("range"),{value:s,min:a,max:r,step:c}=t.value();e.min=a.toString(),e.max=r.toString(),e.step=c.toString(),e.value=s.toString(),e.setAttribute("list",`${n}`),e.addEventListener("input",(()=>t.input(Number(e.value),e))),void 0!==t.change&&e.addEventListener("change",t.change),o.appendChild(y(null!==(i=t.text)&&void 0!==i?i:"","simulation_controls_span",t.color)),o.appendChild(e)}w.controls.appendChild(o);const s=document.createElement("datalist");{s.id=`${n}`;const t=document.createElement("option");t.value="0",s.appendChild(t)}e.appendChild(s);break}}})),w.controls.appendChild(e)})),document.querySelector("#simulation_comment").innerHTML=t.comment}}g=w,w.SetTime=t=>g.time.innerText=t,w.SetMessage=t=>g.message.innerText=t;{const t=document.createElement("div");t.id="simulation",document.body.appendChild(t);const e="<span id='simulation_loading'>読み込み中...</span>",n=`<div id='simulation_topleft'>${"<div id='simulation_title'></div>"}<br>${"<div id='simulation_comment'></div>"}${"<div id='simulation_selector'></div>"}</div>`,o="<canvas id='simulation_canvas' touch-action='none'></canvas>",s="<div id='simulation_time'></div>",a="<button id='simulation_close' type='button'></button>",r="<div id='simulation_controls'></div>",c="<div id='simulation_message'></div>";t.innerHTML=`<div id='simulation_foreground'>${e}${n}${o}${s}${a}${r}${c}</div>`,w.time=document.querySelector("#simulation_time"),w.title=document.querySelector("#simulation_title"),w.message=document.querySelector("#simulation_message"),w.canvas=document.querySelector("#simulation_canvas"),w.selector=document.querySelector("#simulation_selector"),w.controls=document.querySelector("#simulation_controls"),w.comment=document.querySelector("#simulation_comment");const l=()=>_(void 0,void 0,void 0,(function*(){(yield Promise.all([i.e(9016),i.e(4969)]).then(i.bind(i,4969))).Scheduler.Stop(),t.style.visibility="hidden",document.body.classList.remove("noscroll"),w.title.innerHTML="",w.title.style.visibility="hidden",w.selector.innerHTML="",w.controls.innerHTML="",w.comment.innerHTML="",w.SetTime(""),w.SetMessage(""),w.on_closed()}));document.querySelector("#simulation_close").addEventListener("click",l),document.querySelector("#simulation_foreground").addEventListener("click",(t=>{t.stopPropagation()}),!1),document.querySelector("#simulation_foreground").addEventListener("touchstart",(t=>{t.stopPropagation()}),!1),t.addEventListener("click",l,!1),t.addEventListener("touchstart",l,!1),w.title.style.visibility="hidden";const d=document.querySelector("#simulation_topleft"),u=document.querySelector("#simulation_close");w.canvas.addEventListener("pointerdown",(()=>{d.style.visibility=u.style.visibility=w.controls.style.visibility="hidden"})),w.canvas.addEventListener("pointerup",(()=>{d.style.visibility=u.style.visibility=w.controls.style.visibility="inherit"}))}},2301:t=>{t.exports="data:image/svg+xml,%3csvg width='41.329' height='41.329' viewBox='0 0 10.935 10.935' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M1.5 9.435 9.435 1.5M1.5 1.5l7.935 7.935' fill='none' stroke='gray' stroke-linecap='round' stroke-width='1.323'/%3e%3c/svg%3e"}}]);