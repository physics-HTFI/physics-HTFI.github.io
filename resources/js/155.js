"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[155],{155:(t,s,a)=>{a.r(s),a.d(s,{spec:()=>l});var e=a(1550);const i=(t,s,a)=>a[0]*Math.cos(a[1]*t)*Math.cos(a[1]*s)+a[2]*(t*t+s*s)+a[3];class h{constructor(t,s){this.Gs={num_constraints:1,M:new e.V([1,1,1]),G:(t,s,a)=>((t,s)=>{const[a,h,n]=t.dat;return{G:n-i(a,h,s),G_t:0,G_x:new e.V([-(-s[0]*s[1]*Math.sin(s[1]*a)*Math.cos(s[1]*h)+2*s[2]*a),-(-s[0]*s[1]*Math.cos(s[1]*a)*Math.sin(s[1]*h)+2*s[2]*h),1])}})(a,this.a)},this.reset=()=>this.X=this.X0.clone(),this.draw=t=>this.ball.position=this.X.to_Vector3(),this.proceed=(t,s)=>this.X=e.ME.RK4_collision(t,this.X,e.ME.dXdt_g,s,this.Gs),this.E=t=>(0,e.uZ)(this.X,1),this.a=t.a,this.ball=e.ay.Ball(.1,s),this.X0=new e.V([...t.x0,...t.v0]),this.X=this.reset()}}const n=t=>{e.jG.set_2D(4.6,new e.V([0,0,1]).to_Vector3()),e.ay.Ground(2);const s=e.ay.Curve(-3,3,100);e.ay.UpdateZ(s,((s,a)=>i(s,a,t)))},c=t=>{e.jG.set_3D(5,0,.35,!0);e.ay.Surface([-2,-2],[2,2],[30,30],8).getChildMeshes().forEach((s=>e.ay.UpdateZ(s,((s,a)=>i(s,a,t)))))},o=[.1,3,.2,-.5],v=[.05,3,.2,-.5],x=[.1,7,.2,0],r=[.05,7,.2,0],l={title:"ゆがんだ床との衝突",comment:"太いグリッドの間隔: 1m",cases:[{title:"3次元（ゆがみ大）",setup:()=>c(o),init:[{x0:[-.9,.1,.3],v0:[0,0,0],a:o},{x0:[-.4,.1,.3],v0:[0,0,0],a:o},{x0:[.1,.1,.3],v0:[0,0,0],a:o},{x0:[.6,.1,.3],v0:[0,0,0],a:o},{x0:[1.1,.1,.3],v0:[0,0,0],a:o}]},{title:"同（ゆがみ小）",setup:()=>c(v),init:[{x0:[-.9,.1,.3],v0:[0,0,0],a:v},{x0:[-.4,.1,.3],v0:[0,0,0],a:v},{x0:[.1,.1,.3],v0:[0,0,0],a:v},{x0:[.6,.1,.3],v0:[0,0,0],a:v},{x0:[1.1,.1,.3],v0:[0,0,0],a:v}]},{title:"2次元（ゆがみ大）",setup:()=>n(x),init:[{x0:[-.9,0,.8],v0:[0,0,0],a:x},{x0:[-.4,0,.8],v0:[0,0,0],a:x},{x0:[.1,0,.8],v0:[0,0,0],a:x},{x0:[.6,0,.8],v0:[0,0,0],a:x},{x0:[1.1,0,.8],v0:[0,0,0],a:x}]},{title:"同（ゆがみ小）",setup:()=>n(r),init:[{x0:[-.9,0,.8],v0:[0,0,0],a:r},{x0:[-.4,0,.8],v0:[0,0,0],a:r},{x0:[.1,0,.8],v0:[0,0,0],a:r},{x0:[.6,0,.8],v0:[0,0,0],a:r},{x0:[1.1,0,.8],v0:[0,0,0],a:r}]}],generator:(t,s)=>new h(t,s)}}}]);