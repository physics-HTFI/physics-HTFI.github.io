"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[2404],{2404:(t,s,i)=>{i.r(s),i.d(s,{spec:()=>c});var e=i(1550);let a;const n=.006;class o{constructor(t,s){this.line=[0,1].map((t=>e.ay.Tube(n,2))),this.arrow_g=[e.ay.Arrow(0),e.ay.Arrow(0)],this.arrow_c=[e.ay.Arrow(0),e.ay.Arrow(0)],this.dXdt=(t,s)=>(0,e.iO)(s,this.F(t,s),this.m),this.reset=()=>this.X=this.X0.clone(),this.proceed=(t,s)=>this.X=e.ME.RK4_free(t,this.X,this.dXdt,s),this.E=t=>(0,e.uZ)(this.X,this.m),this.m=t.m,this.X0=new e.V([...t.x0.flat(),...t.v0.flat()]),this.X=this.reset(),this.ball=this.m.map(((t,i)=>e.ay.Ball(.2*Math.pow(t,1/3),2*s+i)));const i={M:new e.V([this.m[0],this.m[0],this.m[0],this.m[1],this.m[1],this.m[1]]),F_ext:(t,s)=>e.V.concat(e.g.scale(this.m[0]),e.g.scale(this.m[1])),diff_G:(t,s)=>{let[i,a]=[s.slice3(0),s.slice3(6)],[n,o]=[i.minus(s.slice3(3)),a.minus(s.slice3(9))];const[h,r]=[i.len3(),n.len3()];[i,n]=[i.unit3(),n.unit3()];const c=i.dat,l=n.dat,d=n.negate123().dat,m=a.scale(1/h).dat,_=o.scale(1/r).dat,w=o.scale(1/r).negate123().dat;return{G_x:new e.M(2,6,[c[0],c[1],c[2],0,0,0,l[0],l[1],l[2],d[0],d[1],d[2]]),ddt_G_t:new e.V([0,0]),ddt_G_x:new e.M(2,6,[m[0],m[1],m[2],0,0,0,_[0],_[1],_[2],w[0],w[1],w[2]]),G_xx:void 0,G_tt:void 0,G_tx:void 0}}};this.F=e.ME.F_constrained(i)}draw(t){const s=this.X.first_half().split3(),i=this.F(t,this.X);for(let t=0;t<2;t++){this.ball[t].position=s[t].to_Vector3(),this.arrow_g[t].setEnabled(a),this.arrow_c[t].setEnabled(a);const n=e.g.scale(this.m[t]),o=i.slice3(3*t).minus(n);e.ay.Set_ArrowPosition(this.arrow_g[t],s[t],n,.015),e.ay.Set_ArrowPosition(this.arrow_c[t],s[t],o,.015,2)}e.ay.UpdateTube(this.line[0],[e.V.Zero(3),s[0]],n),e.ay.UpdateTube(this.line[1],[s[0],s[1]],n)}}const h=()=>{e.jG.set_3D(6,.5,.4,!0,new e.V([0,0,-1]).to_Vector3());e.ay.Ground(3).position.z=-2.5,e.ay.FixedPoint(.05,!0)},r=()=>{e.jG.set_2D(6.5),e.ay.Ground(2),e.ay.FixedPoint(.05,!1)},c={title:"振り子（＝2粒子・2拘束条件）",comment:"太いグリッドの間隔: 1m",cases:[{title:"3次元（先端のほうが重い）",setup:h,init:[{x0:[[0,0,-1.2],[0,0,-2]],v0:[[5,0,0],[0,3,0]],m:[1,2]}]},{title:"同（先端のほうが軽い）",setup:h,init:[{x0:[[0,0,-1.2],[0,0,-2]],v0:[[5,0,0],[0,3,0]],m:[1,.5]}]},{title:"2次元（先端のほうが重い）",setup:r,init:[{x0:[[0,0,-1.2],[0,0,-2]],v0:[[0,0,0],[10,0,0]],m:[1,1.5]},{x0:[[0,0,-1.2],[0,0,-2]],v0:[[5,0,0],[3,0,0]],m:[1,1.5]}]},{title:"同（先端のほうが軽い）",setup:r,init:[{x0:[[0,0,-1.2],[0,0,-2]],v0:[[0,0,0],[10,0,0]],m:[1.5,1]},{x0:[[0,0,-1.2],[0,0,-2]],v0:[[5,0,0],[3,0,0]],m:[1.5,1]}]}],init:()=>a=!1,controls:[{type:"check",text:"力を表示",checked:()=>a,change:t=>a=t,color:"#f00"}],generator:(t,s)=>new o(t,s)}}}]);