"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[2825],{2825:(t,s,e)=>{e.r(s),e.d(s,{spec:()=>n});var o=e(1550);let r,i;class h{constructor(t,s){this.arrow_w=o.ay.Arrow(3),this.arrow_L=o.ay.Arrow(5),this.dXdt=(t,s)=>{const{R:e,w:r,I:i}=(0,o.fN)(s,this.I0),h=r.cross3x3(),c=e.vec(this.xg0).cross3(o.g.scale(this.m)),a=h.mat(e),n=i.inverse123().vec(c.minus(h.mat(i).vec(r)));return(0,o.Rm)(o.V.Zero(3),a,o.V.Zero(3),n)},this.reset=()=>this.X=this.X=(0,o.Rm)(o.V.Zero(3),o.M.Id3(),o.V.Zero(3),this.w0),this.E=t=>(0,o.xV)(this.X,this.I0,this.m,this.xg0);const e=new o.V(t.x0.flat()).split3();this.m=t.m.reduce(((t,s)=>t+s),0),this.O=new o.V(t.O),this.w0=new o.V(t.w0),this.I0=new o.M(3,3,[0,0,0,0,0,0,0,0,0]);const r=(t,s)=>{const e=s*t.sq3();for(let o=0;o<3;o++){this.I0.dat[3*o+o]+=e;for(let e=0;e<3;e++)this.I0.dat[3*o+e]-=s*t.dat[o]*t.dat[e]}};e.forEach(((s,e)=>r(s,t.m[e]))),this.xg0=e[0].scale(t.m[0]).plus(e[1].scale(t.m[1])).plus(e[2].scale(t.m[2])).scale(1/this.m),this.mesh=o.ay.SolidPendulum(e,t.m,t.color),this.mesh.position=this.O.to_Vector3(),this.X=this.reset()}draw(t){const{R:s,w:e,I:h}=(0,o.fN)(this.X,this.I0);this.mesh.setPreTransformMatrix(s.to_Matrix()),this.arrow_w.setEnabled(r),this.arrow_L.setEnabled(i),o.ay.Set_ArrowPosition(this.arrow_w,this.O,e,.1),o.ay.Set_ArrowPosition(this.arrow_L,this.O,h.vec(e),.2)}proceed(t,s){this.X=o.ME.RK4_free(t,this.X,this.dXdt,s)}}const c=()=>{o.jG.set_3D(4,.5,.35);o.ay.Ground(3).position.z=-1},a=(t,s)=>{const e=t*Math.sin(2*Math.PI/3),o=t*Math.cos(2*Math.PI/3);return[[t,0,s],[o,e,s],[o,-e,s]]},n={title:"1点を固定した剛体",comment:"総質量はすべて同じ<br>床の太いグリッドの間隔: 1m<br>青点は動きを見やすくするため",cases:[{title:"こま（低・中・高速）",init:[{O:[-1,0,0],w0:[0,1,5],x0:a(.4,.3),m:[1,1,1],color:0},{O:[0,0,0],w0:[0,1,10],x0:a(.4,.3),m:[1,1,1],color:0},{O:[1,0,0],w0:[0,1,15],x0:a(.4,.3),m:[1,1,1],color:0}],setup:c},{title:"振り子（対称・非対称）",init:[{O:[-.75,.75,0],w0:[5,5,2],x0:a(.3,-.5),m:[1,1,1],color:0},{O:[.75,.75,0],w0:[5,5,2],x0:a(.3,-.5),m:[2.5,.25,.25],color:1},{O:[-.75,-.75,0],w0:[2,2,2],x0:a(.3,-.5),m:[1,1,1],color:0},{O:[.75,-.75,0],w0:[2,2,2],x0:a(.3,-.5),m:[2.5,.25,.25],color:1}],setup:c}],init:()=>{r=!1,i=!1},controls:[{type:"check",text:"角速度",checked:()=>r,change:t=>r=t,color:"#ff9b38"},{type:"check",text:"角運動量",checked:()=>i,change:t=>i=t,color:"#b76eff"}],generator:(t,s)=>new h(t,s)}}}]);