"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[2275],{2275:(t,s,e)=>{e.r(s),e.d(s,{spec:()=>_});var i=e(1550);let a;const h=1.001,o=(t,s,e,i)=>i.a*Math.sin(i.b*t)*Math.sin(i.c*s)*Math.cos(i.c*e)+i.d*(s*s+e*e);class c{constructor(t,s){this.dXdt=(t,s)=>(0,i.iO)(s,this.F(t,s),1),this.arrow_g=i.ay.Arrow(0),this.arrow_c=i.ay.Arrow(0),this.reset=()=>this.X=this.X0.clone(),this.proceed=(t,s)=>this.X=i.ME.RK4_free(t,this.X,this.dXdt,s),this.E=t=>1+this.X.dat[2]-o(t,this.X.dat[0],this.X.dat[1],this.A),this.A=t.A,this.X0=new i.V([...t.x0,...t.v0]),this.X=this.reset();const e={M:new i.V([1,1,1]),F_ext:(t,s)=>i.g.scale(1),diff_G:(t,s)=>{const{a:e,b:a,c:h,d:o}=this.A,[c,r]=s.dat,[n,d]=[e*Math.sin(a*t),e*a*Math.cos(a*t)],[_,l]=[Math.sin(h*c),h*Math.cos(h*c)],[w,A]=[Math.cos(h*r),-h*Math.sin(h*r)],x=n*l*A,M=-h*h*n*_*w+2*o;return{G_x:new i.M(1,3,[n*l*w+2*o*c,n*_*A+2*o*r,-1]),ddt_G_t:void 0,ddt_G_x:void 0,G_xx:new i.T(1,3,3,[M,x,0,x,M,0,0,0,0]),G_tt:new i.V([-a*a*n*_*w]),G_tx:new i.M(1,3,[d*l*w,d*_*A,0])}}};this.F=i.ME.F_constrained(e),this.ball=i.ay.Ball(.06,s,!1),this.is_master=0==s}draw(t){const s=this.X.slice3(0);this.ball.position=s.to_Vector3(),this.arrow_g.setEnabled(a),this.arrow_c.setEnabled(a);const e=i.g.scale(1),h=this.F(t,this.X).minus(e);i.ay.Set_ArrowPosition(this.arrow_g,s,e,.015),i.ay.Set_ArrowPosition(this.arrow_c,s,h,.015),this.is_master&&d.forEach((s=>i.ay.UpdateZ(s,((s,e)=>o(t,s,e,this.A)))))}}const r={a:.1,b:3,c:6,d:.3},n={a:.15,b:5,c:6,d:.5};let d;const _={title:"うねる曲面上の運動",comment:"太いグリッドの間隔: 1m",cases:[{title:"3次元",setup:()=>{i.jG.set_3D(3*h,.4,.3),d=i.ay.Surface([-h,-h],[h,h],[30,30],15).getChildMeshes().map((t=>t))},init:[{x0:[0,0,0],v0:[0,.1,0],A:r},{x0:[0,0,0],v0:[0,.3,0],A:r},{x0:[0,0,0],v0:[0,.5,0],A:r},{x0:[0,0,0],v0:[0,.7,0],A:r},{x0:[0,0,0],v0:[0,.9,0],A:r}]},{title:"2次元",setup:()=>{i.jG.set_2D(2.3*h,new i.V([0,0,.5005]).to_Vector3()),i.ay.Ground(2),d=[i.ay.Curve(-h,h,200)]},init:[{x0:[0,0,0],v0:[0,0,0],A:n},{x0:[0,0,0],v0:[-1,0,0],A:n},{x0:[0,0,0],v0:[1,0,0],A:n}]}],init:()=>a=!1,controls:[{type:"check",text:"力を表示",checked:()=>a,change:t=>a=t,color:"#f00"}],generator:(t,s)=>new c(t,s)}}}]);