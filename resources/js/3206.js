"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[3206],{3206:(t,s,i)=>{i.r(s),i.d(s,{spec:()=>x});var e=i(2973),a=i(1550);let o,h;class r{constructor(t,s){this.arrow_w=a.ay.Arrow(3),this.arrow_L=a.ay.Arrow(5),this.dXdt=(t,s)=>{const{R:i,w:e,I:o}=(0,a.fN)(s,this.I0),h=e.cross3x3(),r=i.vec(this.xg0).cross3(a.g.scale(1)),c=h.mat(i),n=this.axis.dot36(r)/this.axis.dot36(o.vec(this.axis));return(0,a.Rm)(a.V.Zero(3),c,a.V.Zero(3),this.axis.scale(n))},this.reset=()=>this.X=this.X=(0,a.Rm)(a.V.Zero(3),a.M.Id3(),a.V.Zero(3),this.w0),this.E=t=>(0,a.xV)(this.X,this.I0,1,this.xg0),t.color=0,this.O=new a.V(t.O),this.axis=new a.V(t.axis).unit3(),this.w0=this.axis.scale(t.w0),this.I0=a.M.Id3().scale3x3(1/6*Math.pow(t.size,2)),this.xg0=new a.V(t.x0),this.R0=e.y3.RotationZ(t.rotation0[0]).multiply(e.y3.RotationX(t.rotation0[1])).multiply(e.y3.RotationZ(t.rotation0[2])).setTranslation(this.xg0.to_Vector3()),this.mesh=a.ay.SolidCuboid(t.size,t.size,t.size,s),this.mesh.position=this.O.to_Vector3(),0==s&&a.ay.Tube(.01,[this.axis.scale(-5),this.axis.scale(5)]),this.X=this.reset()}draw(t){this.mesh.setPreTransformMatrix(this.R0.multiply((0,a.hl)(this.X).R.to_Matrix()));const{R:s,w:i,I:e}=(0,a.fN)(this.X,this.I0);this.arrow_w.setEnabled(o),this.arrow_L.setEnabled(h),a.ay.Set_ArrowPosition(this.arrow_w,this.O,i,.4),a.ay.Set_ArrowPosition(this.arrow_L,this.O,e.vec(i),2)}proceed(t,s){this.X=a.ME.RK4_free(t,this.X,this.dXdt,s)}}const c=()=>{a.jG.set_3D(7,.6,.35);a.ay.Ground(3).position.z=-2.5},n={rotation0:[1,1,1],x0:[0,0,-.6],size:1},w={rotation0:[1,1,1],x0:[.5,0,0],size:1},x={title:"2点を固定した剛体",comment:"床の太いグリッドの間隔: 1m<br>青点は動きを見やすくするため",cases:[{title:"水平な軸",init:[Object.assign({O:[-2,0,0],w0:.3,axis:[1,0,0]},n),Object.assign({O:[0,0,0],w0:5,axis:[1,0,0]},n),Object.assign({O:[2,0,0],w0:12,axis:[1,0,0]},n)],setup:c},{title:"斜めの軸",init:[Object.assign({O:[-2,0,-1],w0:.3,axis:[1,0,.5]},n),Object.assign({O:[0,0,0],w0:5,axis:[1,0,.5]},n),Object.assign({O:[2,0,1],w0:11,axis:[1,0,.5]},n)],setup:c},{title:"垂直な軸",init:[Object.assign({O:[0,0,-1],w0:.2,axis:[0,0,1]},w),Object.assign({O:[0,0,1],w0:2,axis:[0,0,1]},w)],setup:c}],init:()=>{o=!1,h=!1},controls:[{type:"check",text:"角速度",checked:()=>o,change:t=>o=t,color:"#ff9b38"},{type:"check",text:"角運動量",checked:()=>h,change:t=>h=t,color:"#b76eff"}],generator:(t,s)=>new r(t,s)}}}]);