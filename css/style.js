"use strict";function addMathMouseOverListener(){let e=document.createElement("div");e.id="MathFrame",document.body.appendChild(e);let t=document.getElementsByTagName("a");for(let n=0;n<t.length;n++){let i=t[n],a=i.getAttribute("href");null!=a&&a.includes("#mjx-eqn")&&(a=a.replace("%3A",":"),i.addEventListener("mouseover",function(t){let n=document.getElementById(a.substring(1)),i=n.closest("displayed-eq"),o=i.cloneNode(!0),l=n.getBoundingClientRect().top+.5*n.getBoundingClientRect().height-i.getBoundingClientRect().top;for(l>160&&(o.style.position="relative",o.style.top=160-l+"px");e.firstChild;)e.removeChild(e.firstChild);e.appendChild(o),e.style.visibility="visible"},!1),i.addEventListener("mouseleave",function(t){e.style.visibility="collapse"},!1))}}function startSimulation(e){var t=document.createElement("iframe");t.id="Simulation_frame",t.src=e;var n=document.createElement("div");n.id="Simulation_screen",n.insertBefore(t,n.firstChild),n.addEventListener("click",function(){n.parentNode.removeChild(n)},!1),n.addEventListener("touchstart",function(){n.parentNode.removeChild(n)},!1);var i=document.getElementsByTagName("body")[0];i.insertBefore(n,i.firstChild)}function addStartSimulationListener(){for(var e=document.getElementsByTagName("input"),t=0;t<e.length;t++)e[t].addEventListener("click",function(){startSimulation(this.getAttribute("html-path"))})}function addParameterChangedListener(e){for(var t=document.getElementsByTagName("input"),n=0;n<e.length;n++)t[n].addEventListener("touchstart",e[n]),t[n].addEventListener("click",e[n])}function addScrollDecoration(){if(window.location.href.includes("index.html"))return;let e=document.getElementById("Minimap");null!=e&&document.body.removeChild(e),(e=document.createElement("div")).id="Minimap";let t=[0],n=[],i=[];{let e=document.getElementsByTagName("h2"),a=document.getElementsByTagName("h3");const o=document.body.getBoundingClientRect().top;for(let n=0;n<e.length;n++)t.push(e[n].getBoundingClientRect().top-o);for(let e=0;e<a.length;e++){let t="Note"==a[e].parentNode.className;t&&a[e]!=a[e].parentNode.getElementsByTagName("h3")[0]||(n.push(a[e].getBoundingClientRect().top-o),t&&i.push(n[n.length-1]))}t.push(document.documentElement.scrollHeight),n.push(document.documentElement.scrollHeight)}for(let a=0,o=0;a<t.length-1;a++){let l=document.createElement("div");l.className="Minimap_section",l.style.height=100*(t[a+1]-t[a])/t[t.length-1]-.5+"%";let d=t[a];for(;o<n.length;o++){if(Math.min(n[o],t[a+1])<d)continue;let e=document.createElement("div");if(e.className="Minimap_paragraph",e.style.height=100*(Math.min(n[o],t[a+1])-d)/(t[a+1]-t[a])+"%",d!=t[a]&&-1!=i.indexOf(n[o-1])&&(e.className="Minimap_paragraph-note"),l.appendChild(e),(d=n[o])>t[a+1])break}e.appendChild(l)}document.body.appendChild(e)}function setDateColor(){let e=document.getElementsByClassName("TOC_chapterDate"),t=new Date;for(let n=0;n<e.length;n++){let i=e[n].innerText.split("."),a=new Date(Number(i[0]),Number(i[1])-1,Number(i[2])),o=(t.getTime()-a.getTime())/864e5;e[n].classList.add(o<=30?"TOC_chapterDateColor1":o<=90?"TOC_chapterDateColor2":"TOC_chapterDateColor3")}}window.onload=function(){addScrollDecoration(),addStartSimulationListener(),screen.width>650&&addMathMouseOverListener()},function(e,t,n,i,a,o,l){e.GoogleAnalyticsObject=a,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,o=t.createElement(n),l=t.getElementsByTagName(n)[0],o.async=1,o.src="https://www.google-analytics.com/analytics.js",l.parentNode.insertBefore(o,l)}(window,document,"script",0,"ga"),ga("create","UA-84006000-1","auto"),ga("send","pageview");